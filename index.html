<!DOCTYPE html>
<html lang="nl">

<head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=AW-17574614935"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'AW-17574614935');
</script>


  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>stockflow: Gratis Voorraadbeheer</title>
  <link rel="icon" href="/favicon.ico" />
  <meta name="description" content="Ontdek hoe stockflow jou helpt bij het beheren van jouw voorraad, Efficiënt en Gratis. Probeer het nu!" />
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    connect-src 'self' https://sszuxnqhbxauvershuys.supabase.co wss://sszuxnqhbxauvershuys.supabase.co https://www.google-analytics.com https://www.google.com https://www.googletagmanager.com https://googleads.g.doubleclick.net https://www.googleadservices.com https://api.stripe.com https://checkout.stripe.com https://api.ipify.org https://translate.googleapis.com https://translate.google.com https://clients5.google.com *.google.com;
    script-src 'self' 'unsafe-inline' https://www.googletagmanager.com https://www.googleadservices.com https://googleads.g.doubleclick.net https://www.google.com https://js.stripe.com https://translate.googleapis.com https://translate.google.com https://cdn.gtranslate.net https://clients5.google.com *.google.com;
    frame-src 'self' https://www.googletagmanager.com https://www.googleadservices.com https://googleads.g.doubleclick.net https://www.google.com https://td.doubleclick.net https://checkout.stripe.com https://js.stripe.com https://translate.googleapis.com https://translate.google.com https://clients5.google.com *.google.com;
    font-src 'self' https://fonts.gstatic.com https://fonts.googleapis.com;
    style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
    img-src 'self' data: https:;
  ">
  <!-- CSS Loading with fallback -->
  <link rel="stylesheet" href="/src/index.css" onerror="console.log('CSS loaded via Vite')">
  <link rel="stylesheet" href="/src/App.css" onerror="console.log('CSS loaded via Vite')">
  <style>
    /* Critical CSS: minimal layout voor snelle eerste render */
    html,body{min-height:100vh;margin:0;padding:0;width:100%;background:#fff;}
    #root{width:100vw;margin:0 auto;}
  </style>
</head>

<body>
  
  <div id="root"></div>
  
  <!-- Simple Auto-Translation Solution -->
  <script type="text/javascript">
    // Simple, reliable auto-translation implementation
    (function() {
      'use strict';
      
      // Detect browser language
      const browserLang = navigator.language || navigator.userLanguage;
      const primaryLang = browserLang.split('-')[0];
      
      // Supported languages
      const supportedLanguages = ['en', 'fr', 'de', 'es', 'it', 'pt', 'ru', 'ja', 'ko', 'zh', 'ar', 'hi', 'tr', 'pl', 'sv', 'da', 'no', 'fi', 'cs', 'hu', 'ro', 'bg', 'hr', 'sk', 'sl', 'et', 'lv', 'lt', 'mt', 'cy', 'ga', 'is', 'lb', 'eu', 'ca', 'gl'];
      
      console.log('🌐 Browser Language:', browserLang);
      console.log('🔤 Primary Language:', primaryLang);
      
      // Always show translation options for testing and accessibility
      const isLocalhost = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1';
      
      if (isLocalhost) {
        console.log('🏠 Localhost detected, showing compact translation widget');
        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => showCompactTranslationWidget(), 1000);
          });
        } else {
          setTimeout(() => showCompactTranslationWidget(), 1000);
        }
      } else {
        // Production: Auto-translate if not Dutch
        if (primaryLang !== 'nl' && supportedLanguages.includes(primaryLang)) {
          console.log('🔄 Auto-translating to:', primaryLang);
          
          if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => {
              setTimeout(() => autoTranslate(primaryLang), 1000);
            });
          } else {
            setTimeout(() => autoTranslate(primaryLang), 1000);
          }
        } else {
          console.log('🇳🇱 Dutch browser, showing compact translation widget');
          if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => {
              setTimeout(() => showCompactTranslationWidget(), 1000);
            });
          } else {
            setTimeout(() => showCompactTranslationWidget(), 1000);
          }
        }
      }
      
      // Simple auto-translate function
      function autoTranslate(targetLang) {
        const currentUrl = window.location.href;
        const isLocalhost = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1';
        
        if (isLocalhost) {
          console.log('🏠 Localhost detected, showing translation options');
          showLocalhostTranslation(targetLang);
        } else {
          console.log('🌐 Production environment, redirecting to Google Translate');
          
          // Redirect to Google Translate
          const translateUrl = `https://translate.google.com/translate?sl=auto&tl=${targetLang}&u=${encodeURIComponent(currentUrl)}`;
          window.location.href = translateUrl;
        }
      }
      
      // Compact translation widget with small button first
      function showCompactTranslationWidget() {
        const widget = document.createElement('div');
        widget.id = 'translation-widget';
        widget.innerHTML = `
          <div style="
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 9999;
            font-family: Arial, sans-serif;
            font-size: 14px;
          ">
            <!-- Small translate button -->
            <div id="translate-btn-small" style="
              background: #4285f4;
              color: white;
              border: none;
              border-radius: 50px;
              padding: 12px 16px;
              cursor: pointer;
              box-shadow: 0 4px 12px rgba(66, 133, 244, 0.3);
              font-size: 14px;
              font-weight: 600;
              display: flex;
              align-items: center;
              gap: 8px;
              transition: all 0.2s ease;
            ">🌐 Translate</div>
            
            <!-- Full modal (hidden initially) -->
            <div id="translate-modal" style="
              display: none;
              background: #fff;
              border: 1px solid #ddd;
              border-radius: 12px;
              padding: 20px;
              box-shadow: 0 8px 32px rgba(0,0,0,0.15);
              margin-top: 8px;
              min-width: 280px;
              max-width: 320px;
            ">
              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                <div style="font-weight: bold; color: #333; font-size: 16px;">
                  🌐 Translate Page
                </div>
                <button id="close-modal" style="
                  background: none;
                  border: none;
                  font-size: 20px;
                  cursor: pointer;
                  color: #666;
                  padding: 0;
                  width: 24px;
                  height: 24px;
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  border-radius: 50%;
                ">×</button>
              </div>
              
              <div style="margin-bottom: 16px;">
                <select id="language-select" style="
                  width: 100%;
                  padding: 10px;
                  border: 2px solid #e1e5e9;
                  border-radius: 8px;
                  font-size: 14px;
                  background: #fff;
                  cursor: pointer;
                ">
                  <option value="nl">🇳🇱 Nederlands</option>
                  <option value="en">🇺🇸 English</option>
                  <option value="fr">🇫🇷 Français</option>
                  <option value="de">🇩🇪 Deutsch</option>
                  <option value="es">🇪🇸 Español</option>
                  <option value="it">🇮🇹 Italiano</option>
                  <option value="pt">🇵🇹 Português</option>
                  <option value="ru">🇷🇺 Русский</option>
                  <option value="ja">🇯🇵 日本語</option>
                  <option value="ko">🇰🇷 한국어</option>
                  <option value="zh">🇨🇳 中文</option>
                  <option value="ar">🇸🇦 العربية</option>
                  <option value="hi">🇮🇳 हिन्दी</option>
                  <option value="tr">🇹🇷 Türkçe</option>
                  <option value="pl">🇵🇱 Polski</option>
                  <option value="sv">🇸🇪 Svenska</option>
                  <option value="da">🇩🇰 Dansk</option>
                  <option value="no">🇳🇴 Norsk</option>
                  <option value="fi">🇫🇮 Suomi</option>
                  <option value="cs">🇨🇿 Čeština</option>
                  <option value="hu">🇭🇺 Magyar</option>
                  <option value="ro">🇷🇴 Română</option>
                  <option value="bg">🇧🇬 Български</option>
                  <option value="hr">🇭🇷 Hrvatski</option>
                  <option value="sk">🇸🇰 Slovenčina</option>
                  <option value="sl">🇸🇮 Slovenščina</option>
                  <option value="et">🇪🇪 Eesti</option>
                  <option value="lv">🇱🇻 Latviešu</option>
                  <option value="lt">🇱🇹 Lietuvių</option>
                  <option value="mt">🇲🇹 Malti</option>
                  <option value="cy">🇬🇧 Cymraeg</option>
                  <option value="ga">🇮🇪 Gaeilge</option>
                  <option value="is">🇮🇸 Íslenska</option>
                  <option value="lb">🇱🇺 Lëtzebuergesch</option>
                  <option value="eu">🇪🇸 Euskera</option>
                  <option value="ca">🇪🇸 Català</option>
                  <option value="gl">🇪🇸 Galego</option>
                </select>
              </div>
              
              <button id="translate-btn" style="
                width: 100%;
                padding: 12px;
                background: #4285f4;
                color: white;
                border: none;
                border-radius: 8px;
                font-size: 14px;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.2s ease;
              ">Translate Page</button>
              
              <div style="
                margin-top: 12px;
                padding: 10px;
                background: #f8f9fa;
                border-radius: 6px;
                font-size: 12px;
                color: #666;
                text-align: center;
                line-height: 1.4;
              ">
                <strong>Translation Options</strong><br>
                Opens Google Translate in new tab
              </div>
            </div>
          </div>
        `;
        
        document.body.appendChild(widget);
        
        // Set default language based on browser
        const select = document.getElementById('language-select');
        const browserLang = navigator.language || navigator.userLanguage;
        const primaryLang = browserLang.split('-')[0];
        
        if (primaryLang !== 'nl' && supportedLanguages.includes(primaryLang)) {
          select.value = primaryLang;
        } else {
          select.value = 'en'; // Default to English for testing
        }
        
        // Event listeners
        const smallBtn = document.getElementById('translate-btn-small');
        const modal = document.getElementById('translate-modal');
        const closeBtn = document.getElementById('close-modal');
        const translateBtn = document.getElementById('translate-btn');
        
        // Toggle modal
        smallBtn.addEventListener('click', () => {
          const isVisible = modal.style.display !== 'none';
          modal.style.display = isVisible ? 'none' : 'block';
          smallBtn.textContent = isVisible ? '🌐 Translate' : '✕ Close';
        });
        
        // Close modal
        closeBtn.addEventListener('click', () => {
          modal.style.display = 'none';
          smallBtn.textContent = '🌐 Translate';
        });
        
        // Translate button
        translateBtn.addEventListener('click', () => {
          const selectedLang = select.value;
          const translateUrl = `https://translate.google.com/translate?sl=auto&tl=${selectedLang}&u=${encodeURIComponent(window.location.href)}`;
          window.open(translateUrl, '_blank');
          
          // Close modal after translation
          modal.style.display = 'none';
          smallBtn.textContent = '🌐 Translate';
        });
        
        // Hover effects
        smallBtn.addEventListener('mouseenter', () => {
          smallBtn.style.transform = 'translateY(-2px)';
          smallBtn.style.boxShadow = '0 6px 16px rgba(66, 133, 244, 0.4)';
        });
        
        smallBtn.addEventListener('mouseleave', () => {
          smallBtn.style.transform = 'translateY(0)';
          smallBtn.style.boxShadow = '0 4px 12px rgba(66, 133, 244, 0.3)';
        });
      }
      
      // Localhost translation widget (legacy)
      function showLocalhostTranslation(targetLang) {
        const widget = document.createElement('div');
        widget.id = 'translation-widget';
        widget.innerHTML = `
          <div style="
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 16px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 9999;
            font-family: Arial, sans-serif;
            font-size: 14px;
            max-width: 300px;
          ">
            <div style="margin-bottom: 12px; font-weight: bold; color: #333;">
              🌐 Translate Page
            </div>
            <div style="margin-bottom: 12px;">
              <select id="language-select" style="
                width: 100%;
                padding: 8px;
                border: 1px solid #ddd;
                border-radius: 4px;
                font-size: 14px;
              ">
                <option value="nl">🇳🇱 Nederlands</option>
                <option value="en">🇺🇸 English</option>
                <option value="fr">🇫🇷 Français</option>
                <option value="de">🇩🇪 Deutsch</option>
                <option value="es">🇪🇸 Español</option>
                <option value="it">🇮🇹 Italiano</option>
                <option value="pt">🇵🇹 Português</option>
                <option value="ru">🇷🇺 Русский</option>
                <option value="ja">🇯🇵 日本語</option>
                <option value="ko">🇰🇷 한국어</option>
                <option value="zh">🇨🇳 中文</option>
                <option value="ar">🇸🇦 العربية</option>
                <option value="hi">🇮🇳 हिन्दी</option>
                <option value="tr">🇹🇷 Türkçe</option>
                <option value="pl">🇵🇱 Polski</option>
                <option value="sv">🇸🇪 Svenska</option>
                <option value="da">🇩🇰 Dansk</option>
                <option value="no">🇳🇴 Norsk</option>
                <option value="fi">🇫🇮 Suomi</option>
                <option value="cs">🇨🇿 Čeština</option>
                <option value="hu">🇭🇺 Magyar</option>
                <option value="ro">🇷🇴 Română</option>
                <option value="bg">🇧🇬 Български</option>
                <option value="hr">🇭🇷 Hrvatski</option>
                <option value="sk">🇸🇰 Slovenčina</option>
                <option value="sl">🇸🇮 Slovenščina</option>
                <option value="et">🇪🇪 Eesti</option>
                <option value="lv">🇱🇻 Latviešu</option>
                <option value="lt">🇱🇹 Lietuvių</option>
                <option value="mt">🇲🇹 Malti</option>
                <option value="cy">🇬🇧 Cymraeg</option>
                <option value="ga">🇮🇪 Gaeilge</option>
                <option value="is">🇮🇸 Íslenska</option>
                <option value="lb">🇱🇺 Lëtzebuergesch</option>
                <option value="eu">🇪🇸 Euskera</option>
                <option value="ca">🇪🇸 Català</option>
                <option value="gl">🇪🇸 Galego</option>
              </select>
            </div>
            <button id="translate-btn" style="
              width: 100%;
              padding: 10px;
              background: #4285f4;
              color: white;
              border: none;
              border-radius: 4px;
              font-size: 14px;
              font-weight: 600;
              cursor: pointer;
            ">Translate Page</button>
            <div style="
              margin-top: 8px;
              padding: 8px;
              background: #f8f9fa;
              border-radius: 4px;
              font-size: 12px;
              color: #666;
              text-align: center;
            ">
              <strong>Development Mode</strong><br>
              Translation opens in new tab
            </div>
          </div>
        `;
        
        document.body.appendChild(widget);
        
        // Set default language
        const select = document.getElementById('language-select');
        select.value = targetLang;
        
        // Add click event
        document.getElementById('translate-btn').addEventListener('click', () => {
          const selectedLang = select.value;
          const translateUrl = `https://translate.google.com/translate?sl=auto&tl=${selectedLang}&u=${encodeURIComponent(window.location.href)}`;
          window.open(translateUrl, '_blank');
        });
      }
      
    })();
  </script>
  
  <!-- Simple Debug Script (localhost only) -->
  <script type="text/javascript">
    if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
      // Simple debug function
      window.debugTranslation = function() {
        console.log('🧪 Translation Debug Info');
        console.log('='.repeat(40));
        console.log('Browser Language:', navigator.language);
        console.log('Primary Language:', navigator.language.split('-')[0]);
        console.log('Is Localhost:', true);
        console.log('Translation Widget:', !!document.getElementById('translation-widget'));
        console.log('Language Select:', !!document.getElementById('language-select'));
        console.log('Translate Button:', !!document.getElementById('translate-btn'));
        console.log('='.repeat(40));
      };
      
      // Manual widget test function
      window.showTranslationWidget = function() {
        console.log('🔧 Manually showing compact translation widget...');
        
        // Remove existing widget if any
        const existing = document.getElementById('translation-widget');
        if (existing) {
          existing.remove();
        }
        
        // Show compact widget
        showCompactTranslationWidget();
        
        console.log('✅ Compact translation widget shown');
      };
      
      console.log('🔧 Debug functions available:');
      console.log('  - window.debugTranslation()');
      console.log('  - window.showTranslationWidget()');
    }
  </script>
  
  <script type="module" src="/src/main.tsx" defer></script>
</body>

</html>